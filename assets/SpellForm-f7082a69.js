import{r as d,j as e}from"./index-772526b6.js";const g=({onAddSpell:h,onClose:t,soundEnabled:u})=>{const[s,c]=d.useState({title:"",content:"",meaning:"",notes:"",author:"",category:"consuelo"}),[o,m]=d.useState(!1),p=[{id:"consuelo",name:"Consuelo",icon:"ðŸ¤—"},{id:"inspiraciÃ³n",name:"InspiraciÃ³n",icon:"ðŸ’«"},{id:"esperanza",name:"Esperanza",icon:"ðŸŒŸ"},{id:"recuerdo",name:"Recuerdo",icon:"ðŸ“œ"},{id:"sabidurÃ­a",name:"SabidurÃ­a",icon:"ðŸ“š"},{id:"amor",name:"Amor",icon:"â¤ï¸"},{id:"otros",name:"Otros",icon:"ðŸŒ€"}],r=a=>{const{name:n,value:l}=a.target;c(i=>({...i,[n]:l}))},x=a=>{c(n=>({...n,category:a}))},j=a=>{if(a.preventDefault(),!s.content.trim()){alert("El contenido del hechizo es obligatorio");return}m(!0),setTimeout(()=>{if(h(s),m(!1),u){const n=new(window.AudioContext||window.webkitAudioContext),l=n.createOscillator(),i=n.createGain();l.connect(i),i.connect(n.destination),l.frequency.setValueAtTime(880,n.currentTime),l.type="sine",i.gain.setValueAtTime(.1,n.currentTime),i.gain.exponentialRampToValueAtTime(.01,n.currentTime+.4),l.start(n.currentTime),l.stop(n.currentTime+.4)}},1e3)},N=a=>{a.target===a.currentTarget&&t()};return e.jsx("div",{className:"spell-form-overlay",onClick:N,children:e.jsxs("div",{className:"spell-form-container animate-slide-up-fade",children:[e.jsx("button",{className:"close-button",onClick:t,"aria-label":"Cerrar formulario",children:"Ã—"}),e.jsxs("div",{className:"form-header",children:[e.jsx("div",{className:"header-icon",children:"âœ¨"}),e.jsx("h2",{className:"form-title",children:"Escribe un nuevo hechizo"}),e.jsx("p",{className:"form-subtitle",children:"Comparte palabras que puedan acompaÃ±ar en momentos difÃ­ciles"})]}),e.jsxs("form",{onSubmit:j,className:"spell-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"title",className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸ“"}),"TÃ­tulo del hechizo"]}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:r,placeholder:"Ej: Conjuro de la Esperanza",className:"form-input",maxLength:50}),e.jsxs("div",{className:"char-count",children:[s.title.length,"/50"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"author",className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"âœï¸"}),"Tu nombre (opcional)"]}),e.jsx("input",{type:"text",id:"author",name:"author",value:s.author,onChange:r,placeholder:"AnÃ³nimo",className:"form-input",maxLength:30})]})]}),e.jsxs("div",{className:"form-group spell-types-container",children:[e.jsxs("label",{className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸ·ï¸"}),"Tipo de hechizo"]}),e.jsx("div",{className:"spell-types-grid",children:p.map(a=>e.jsxs("button",{type:"button",className:`spell-type-button ${s.category===a.id?"selected":""}`,onClick:()=>x(a.id),children:[e.jsx("span",{className:"spell-type-icon",children:a.icon}),e.jsx("span",{className:"spell-type-name",children:a.name})]},a.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"content",className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸ“–"}),"El hechizo",e.jsx("span",{className:"required",children:" *"})]}),e.jsx("textarea",{id:"content",name:"content",value:s.content,onChange:r,placeholder:"Escribe aquÃ­ las palabras mÃ¡gicas que quieres compartir...",className:"form-textarea",rows:6,maxLength:500,required:!0}),e.jsxs("div",{className:"char-count",children:[s.content.length,"/500"]}),e.jsx("div",{className:"form-hint",children:"Estas palabras aparecerÃ¡n como un hechizo en el grimorio"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"meaning",className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸ’­"}),"Significado o mensaje"]}),e.jsx("textarea",{id:"meaning",name:"meaning",value:s.meaning,onChange:r,placeholder:"Â¿QuÃ© mensaje quieres transmitir? Â¿Para quÃ© situaciÃ³n es este hechizo?",className:"form-textarea",rows:4,maxLength:300}),e.jsxs("div",{className:"char-count",children:[s.meaning.length,"/300"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"notes",className:"form-label",children:[e.jsx("span",{className:"label-icon",children:"ðŸ”®"}),"Notas adicionales (opcional)"]}),e.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:r,placeholder:"Â¿Hay alguna historia detrÃ¡s de este hechizo? Â¿Alguna fecha especial?",className:"form-textarea",rows:3,maxLength:200}),e.jsxs("div",{className:"char-count",children:[s.notes.length,"/200"]})]}),e.jsxs("div",{className:"form-footer",children:[e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:o,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!s.content.trim()||o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon",children:"âœ¨"}),"Guardar en el grimorio"]})})]}),e.jsx("div",{className:"form-tips",children:e.jsxs("div",{className:"tip-item",children:[e.jsx("span",{className:"tip-icon",children:"ðŸ’¡"}),e.jsx("span",{className:"tip-text",children:"Los mejores hechizos vienen del corazÃ³n y hablan con honestidad"})]})})]})]}),e.jsx("div",{className:"form-magical-border"})]})})};export{g as default};
