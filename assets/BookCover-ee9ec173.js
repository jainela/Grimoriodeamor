import{r as a,j as e}from"./index-0c8b6322.js";const d={STAR_COUNT:12,PARTICLE_COUNT:6,SPINE_LETTERS:["G","R","I","M","O","R","I","O"],CLICK_DELAY:200,PULSE_INTERVAL:600},j=a.memo(({id:t})=>{const s=a.useMemo(()=>{const l=t*123.456;return{left:20+(Math.sin(l)*.5+.5)*60,top:20+(Math.cos(l*.7)*.5+.5)*60}},[t]);return e.jsx("div",{className:"star-point",style:{left:`${s.left}%`,top:`${s.top}%`}})});j.displayName="StarPoint";const h=a.memo(({id:t,delay:s})=>{const l=a.useMemo(()=>{const o=t*234.567;return{left:15+(Math.sin(o)*.5+.5)*70}},[t]);return e.jsx("div",{className:"magic-particle",style:{left:`${l.left}%`,animationDelay:`${s}s`}})});h.displayName="MagicParticle";const y=a.memo(({onOpen:t})=>{const[s,l]=a.useState({isHovering:!1,isClicking:!1,magicPulse:0}),o=a.useRef(s);o.current=s;const n=a.useRef(null),m=a.useRef(null),v=a.useRef(null),c=a.useCallback(i=>{l(r=>({...r,...i}))},[]);a.useEffect(()=>{const i=()=>{m.current=requestAnimationFrame(()=>{l(r=>({...r,magicPulse:(r.magicPulse+1)%10}))}),setTimeout(i,d.PULSE_INTERVAL)};return i(),()=>{m.current&&cancelAnimationFrame(m.current),n.current&&clearTimeout(n.current)}},[]);const u=a.useCallback((()=>{let i=0;const r=300;return()=>{const x=Date.now();x-i<r||(i=x,c({isClicking:!0}),requestAnimationFrame(()=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(),c({isClicking:!1})},d.CLICK_DELAY)}))}})(),[t,c]),C=a.useCallback(()=>c({isHovering:!0}),[c]),b=a.useCallback(()=>c({isHovering:!1}),[c]),k=a.useMemo(()=>Array.from({length:d.STAR_COUNT},(i,r)=>r),[]),N=a.useMemo(()=>Array.from({length:d.PARTICLE_COUNT},(i,r)=>({id:r,delay:r*.3})),[]);return e.jsxs("div",{ref:v,className:`book-cover-container ${s.isHovering?"hovering":""} ${s.isClicking?"clicking":""}`,onClick:u,onMouseEnter:C,onMouseLeave:b,"data-magic-pulse":s.magicPulse,role:"button",tabIndex:0,"aria-label":"Abrir Grimorio de Frieren - Libro de hechizos antiguos",onKeyDown:a.useCallback(i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),u())},[u]),children:[e.jsx("div",{className:"book-frame",children:["tl","tr","bl","br"].map(i=>e.jsx("div",{className:`frame-corner corner-${i}`,"aria-hidden":"true"},i))}),e.jsx(p,{isHovering:s.isHovering,isClicking:s.isClicking,spineLetters:d.SPINE_LETTERS,starsArray:k,particlesArray:N,ctaText:s.isHovering?"Descubre los secretos":"Abrir grimorio"}),e.jsxs("div",{className:`interaction-effects ${s.isHovering?"active":""}`,children:[e.jsx("div",{className:"hover-light"}),e.jsx("div",{className:"pulse-wave"})]}),e.jsx("div",{className:"magic-particles",children:N.map(({id:i,delay:r})=>e.jsx(h,{id:i,delay:r},`particle-${i}`))}),e.jsx("div",{className:"dynamic-shadow"})]})}),p=a.memo(({isHovering:t,isClicking:s,spineLetters:l,starsArray:o,particlesArray:n,ctaText:m})=>e.jsxs("div",{className:"book-main-cover","data-interactive":t||s,children:[e.jsxs("div",{className:"book-spine",children:[e.jsx("div",{className:"spine-texture"}),e.jsx("div",{className:"spine-title",children:l.map((v,c)=>e.jsx("span",{className:"spine-letter","aria-hidden":"true",children:v},`spine-${c}`))})]}),e.jsxs("div",{className:"book-front-cover",children:[e.jsxs("div",{className:"cover-background",children:[e.jsx("div",{className:"cover-gradient"}),e.jsx("div",{className:"cover-pattern"})]}),e.jsx(g,{starsArray:o}),e.jsx(f,{ctaText:m}),e.jsx("div",{className:"inner-frame",children:e.jsx("div",{className:"inner-border"})})]}),e.jsxs("div",{className:"book-back-cover",children:[e.jsx("div",{className:"back-texture"}),e.jsx("div",{className:"back-seal","aria-hidden":"true",children:e.jsx("div",{className:"seal-outer",children:e.jsx("div",{className:"seal-inner",children:"封"})})})]})]}));p.displayName="BookMainCover";const g=a.memo(({starsArray:t})=>e.jsxs("div",{className:"cover-elements",children:[e.jsx("div",{className:"subtle-glow glow-1"}),e.jsx("div",{className:"subtle-glow glow-2"}),e.jsx("div",{className:"constellations",children:t.map(s=>e.jsx(j,{id:s},`star-${s}`))}),e.jsxs("div",{className:"decorative-lines",children:[["top","bottom"].map(s=>e.jsx("div",{className:`decorative-line line-horizontal ${s}`},`h-${s}`)),["left","right"].map(s=>e.jsx("div",{className:`decorative-line line-vertical ${s}`},`v-${s}`))]})]}));g.displayName="CoverElements";const f=a.memo(({ctaText:t})=>e.jsxs("div",{className:"cover-content",children:[e.jsx("div",{className:"center-glow"}),e.jsxs("div",{className:"title-container",children:[e.jsxs("h1",{className:"main-title",children:[e.jsx("span",{className:"title-main",children:"Grimorio"}),e.jsx("span",{className:"title-sub",children:"de Frieren"})]}),e.jsx("div",{className:"title-underline"})]}),e.jsx("div",{className:"elegant-separator",children:e.jsx("span",{className:"separator-ornament","aria-hidden":"true",children:"❖"})}),e.jsx("p",{className:"subtitle",children:"Más allá del final del viaje"}),e.jsxs("div",{className:"elegant-symbol","aria-hidden":"true",children:[e.jsx("div",{className:"symbol-circle"}),e.jsx("div",{className:"symbol-core",children:"◈"})]}),e.jsx("div",{className:"styled-quote",children:e.jsx("p",{className:"quote-text",children:"Un libro que susurra, acompaña y espera"})}),e.jsxs("div",{className:"elegant-cta",children:[e.jsx("div",{className:"cta-glow"}),e.jsxs("div",{className:"cta-content",children:[e.jsxs("div",{className:"cta-icon","aria-hidden":"true",children:[e.jsx("span",{className:"cta-hand",children:"✋"}),e.jsx("span",{className:"cta-sparkle",children:"✦"})]}),e.jsx("p",{className:"cta-text",children:t})]})]})]}));f.displayName="CoverContent";y.displayName="BookCover";export{y as default};
